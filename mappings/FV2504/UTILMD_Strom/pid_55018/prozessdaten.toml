# Prozessdaten (process data) mapping for PID 55018 (Ablehnung Kündigung).
#
# Source: SG4 top-level segments (IDE, DTM, STS, FTX)
# IDE+24+<Vorgangsnummer>                         -> vorgangId
# DTM+157:<Datum>:303                             -> einzugsDatum
# DTM+Z01:<Frist>:Z01                             -> kuendigungsfrist
# STS+7++<Transaktionsgrund>
# STS+E01+<status>+<code>:<ebd>::<zeitraumRef>    -> Antwort-Status
# FTX+ACB+<funktion>+<code>+<text>                -> freitext

[meta]
entity = "Prozessdaten"
bo4e_type = "Prozessdaten"
source_group = "SG4"
source_path = "sg4"

[fields]
# IDE segment (Transaktion)
"ide.d7495" = { target = "", default = "24" }
"ide.c206.d7402" = "vorgangId"

# DTM+Z05 (gegenüber Kunde bestätigtes Kündigungsdatum)
"dtm[Z05].c507.d2005" = { target = "", default = "Z05" }
"dtm[Z05].c507.d2380" = "bestaetigterKuendigungsterminKunde"
"dtm[Z05].c507.d2379" = { target = "", default = "303" }

# DTM+157 (Einzugsdatum)
"dtm[157].c507.d2005" = { target = "", default = "157" }
"dtm[157].c507.d2380" = "einzugsDatum"
"dtm[157].c507.d2379" = { target = "", default = "303" }

# DTM+Z01 (Kündigungsfrist)
"dtm[Z01].c507.d2005" = { target = "", default = "Z01" }
"dtm[Z01].c507.d2380" = "kuendigungsfrist"
"dtm[Z01].c507.d2379" = { target = "", default = "Z01" }

# STS+7 — Transaktionsgrund
"sts[7].c601.d9015" = { target = "", default = "7" }
"sts[7].c556.d9013" = "transaktionsgrund"

# STS+E01 — Antwort-Status
"sts[E01].c601.d9015" = "antwortKategorie"
"sts[E01].c556.d9013" = "pruefschrittCode"
"sts[E01].c556.d1131" = "ebdNummer"

# FTX segment — Zusaetzliche Informationen (ACB)
"ftx[ACB].d4451" = { target = "", default = "ACB" }
"ftx[ACB].c108.d4440" = "freitext"
