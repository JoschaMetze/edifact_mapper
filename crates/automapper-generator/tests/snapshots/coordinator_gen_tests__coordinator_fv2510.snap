---
source: crates/automapper-generator/tests/coordinator_gen_tests.rs
expression: output
---
// <auto-generated>
//     This code was generated by automapper-generator.
//     Source: UTILMD Strom S2.1
// </auto-generated>

use automapper_core::coordinator::CoordinatorBase;
use automapper_core::traits::{Mapper, VersionConfig};
use automapper_core::FormatVersion;
use edifact_types::RawSegment;

/// Coordinator for UTILMD message processing.
pub struct UtilmdStromCoordinatorFV2510 {
    mappers: Vec<Box<dyn Mapper>>,
}

impl UtilmdStromCoordinatorFV2510 {
    pub fn new() -> Self {
        let mappers: Vec<Box<dyn Mapper>> = Vec::new();

        // Register mappers in segment processing order
        // TODO: Register concrete mapper instances here
        // Example:
        // mappers.push(Box::new(GeschaeftspartnerMapperV2510::default()));
        // mappers.push(Box::new(ProzessdatenMapperV2510::default()));

        Self { mappers }
    }

    /// Routes a segment to the appropriate mapper.
    pub fn dispatch_segment(&mut self, segment: &RawSegment) {
        match segment.id {
            "UNH" => {} // TODO: route to mapper
            "BGM" => {} // TODO: route to mapper
            "NAD" => {} (SG2) // TODO: route to mapper
            _ => {} // Unknown segment
        }
    }

    /// Returns the MIG-defined segment write order.
    pub fn segment_write_order(&self) -> &'static [&'static str] {
        &[
            "UNH", // 0010
            "BGM", // 0020
            "NAD", // 0080 in SG2
        ]
    }
}
